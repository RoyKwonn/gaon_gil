<!DOCTYPE HTML>
<html>

<head>
    <title>가온길</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Main -->
        <div id="main">
            <div class="inner">

                <!-- Header -->
                <header id="header">
                    <a href="/" class="logo">
                        <img src="/images/11.png" style="display: block; margin: 0 auto; margin-top: -55px;
										width:85px; height:75px;">
                    </a>
                </header>

                <section>
                    <header class="major">
                        <h2>뉴스 기사</h2>
                    </header>
                    <div class="posts">

                    </div>
                </section>

            </div>
        </div>

        <!-- Sidebar -->
        <div id="sidebar">
            <div class="inner">

                <!-- Menu -->
                <nav id="menu">
                    <header class="major">
                        <h2>Menu</h2>
                    </header>
                    <ul>
                        <li><a href="/">지도</a></li>
                        <li><a href="/news">뉴스기사</a></li>
                        <li><a href="/board">건의 게시판</a></li>
                        <li><a href="#">도움말</a></li>
                    </ul>
                </nav>

                <!-- Section -->

                <!-- Footer -->
                <footer id="footer">
                    <p class="copyright">&copy; Untitled. All rights reserved. Demo Images: <a
                            href="https://unsplash.com">Unsplash</a>. Design: <a href="https://html5up.net">HTML5
                            UP</a>.</p>
                </footer>

            </div>
        </div>


    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="/socket.io/socket.io.js"></script>





    <script>
        var socket = io();  // 소켓 io 객체

        socket.emit('request_news', null);  // 뉴스 데이터 요청

        socket.on('news_data', function (msg) {
            for (var i = 0; i < msg.length; i++) {
                var post_div = document.getElementsByClassName('posts').item(0);
                var article = document.createElement('article');

                var a_1 = document.createElement('a');
                a_1.href = msg[i]['url'];
                a_1.className = "image";
                a_1.target = '_blank'

                var img = document.createElement('img');
                img.src = 'https:' + msg[i]['img'];

                a_1.appendChild(img);
                article.appendChild(a_1);


                
                var h3 = document.createElement('h3');
                h3.textContent = msg[i]['title'];
                article.appendChild(h3);



                var p = document.createElement('p');
                p.textContent = msg[i]['body'];
                article.appendChild(p);



                var ul = document.createElement('ul');
                ul.className = "actions";

                var li = document.createElement('li');

                var a_2 = document.createElement('a');
                a_2.className = "button";
                a_2.href = msg[i]['url'];
                a_2.target = '_blank'
                a_2.textContent = "자세히보기"

                li.appendChild(a_2);
                ul.appendChild(li);
                article.appendChild(ul);

                post_div.appendChild(article);
            }

        });
    </script>

</body>

</html>